<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  {{!--
  <meta name="viewport" content="width=device-width, initial-scale=1"> --}}

  <!-- Bootstrap CSS -->

  <title>Mobile Cridet Sales Mgt System</title>
  <link rel="stylesheet" href="../static/css/bootstrap.min.css">
  <link rel="stylesheet" href="../static/css/sidebar.css">
  <link rel="stylesheet" href="../static/css/style.css">

  <link rel="stylesheet" href="../static/js/fontawesome.js">
  <script src="../static/js/solic.js"></script>


</head>

<body>
  {{!-- {{>navbar}} --}}
  {{!-- {{>sidebar}} --}}
  <div class="contain">
    <div class="container-fluid">
      {{>banner}}
    </div>
    <div class="main">
      <div class="leftybar">
        {{>sidebar}}
      </div>
      <div class="righty">
        <div class="maintop">
          {{>maintop}}
        </div>
        {{!-- Contenst Start --}}

        <h1> Employees</h1>
        <div class="contents">
          <div class="mainContents">
            
            <div class="actionmenu">
              <div class="newemp">
                To add new employee click button
                <button onclick="window.location.href='../api/newEmployee';" class="btn form-control">
                  Add New Employee
                </button>
              </div>

              <div class="searchemp">
                enter employee name or id to search
                <form action="/api/searchEmp" method="post">
                  <input type="search" class="form-control" placeholder="search name or id" name="fname">
                  <input type="submit" value="Search" class="btn form-control">
                </form>
              </div>
              
              <div class="delemp">
                enter employee name or id to Delete
                <form action="/api/delEmp" method="post">
                  <input type="search" class="form-control" placeholder="Enter name or id " name="fname">
                  <input type="submit" value="Show Data" class="btn form-control">
                </form>
              </div>
            </div>

            {{!-- search form --}}
            <div class="searchform">
              {{#if msg}}
              <text style="color:blue">Employee Record Inserted</text>
              {{/if}}
              {{#if updatemsg}}
              <text style="color:blue">data updated</text>
              {{/if}}
              {{#if msg_data_exist}}
                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                    <text>Tazkira number, mobile or email id already exits </text>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  </div>  
              {{/if}}
              
                {{#each alerts}}
                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                  {{msg}}
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
              {{/each}}

              {{#if empSaerchFound}}
              <h3>Data found</h3>
              <form action="/api/updateemployee" method="post" class="" id="addEmployee">
                {{#data}}
                <table style="width:100%; ">
                  <tr>
                    <th style="width:30%;"> </th>
                    <th> </th>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for="id"> Unique ID: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" placeholder="id" value="{{id}}" name="id" readonly>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>


                  <tr>
                    <td>
                      <div class="">
                        <label for="tazkira_id"> Tazkira Number: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" placeholder="Tazkira Number" value="{{tazkira_id}}" name="tazkira_id"
                          autofocus>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> First Name: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="fname" value="{{fname}}" placeholder="First Name" required>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Last Name: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="lname" value="{{lname}}" placeholder="Last Name">
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Father Name: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="father_name" value="{{father_name}}" placeholder="Father Name">
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Mobile Number: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="mobile" value="{{mobile}}" placeholder="Mobile Number" required>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Email: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="email" value="{{email}}" placeholder="Email">
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>
                  <tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Adress: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="address" value="{{address}}" placeholder="address">
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> registration Date </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="reg_date" value="{{reg_date}}" placeholder="address" readonly>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Employee Status: </label>
                      </div>
                    </td>
                    <td>
                      <div class="">
                        <input type="radio" id="html" name="status" value="{{status}}">
                        <label for="yes">current</label><br>
                        <input type="radio" id="css" name="status" value="0">
                        <label for="no">formar</label><br>
                      </div>
                    </td>
                  </tr>
                  {{/data}}

                  <td>...</td>
                  <td>...</td>
                  </tr>
                  <tr>
                    <td colspan="2" class="btns">
                      {{!-- <input type="reset" class="btn btn-secondary" value="Reset" id="resetEmpForm"> --}}
                      <input type="submit" value="Update" class="btn btn-secondary" id="submitEmpForm">
                      <span></span>
                    </td>
                  </tr>

                </table>
              </form>
              {{/if}}
              {{#if empSaerch}}
              employee Not Found
              {{/if}}

              {{!-- delete form --}}

              {{#if delrecord}}
              <text style="color:rgb(153, 8, 8)"> Empoyee Record Deleted</text>
              {{/if}}
              {{#if empdelFound}}
              <h3> Employee Details </h3>
              <form action="/api/deleteemployee" method="post" class="" id="addEmployee">
                {{#data}}
                <table style="width:100%; ">
                  <tr>
                    <th style="width:30%;"> </th>
                    <th> </th>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for="id"> Unique ID: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" placeholder="id" value="{{id}}" name="id" readonly>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>


                  <tr>
                    <td>
                      <div class="">
                        <label for="tazkira_id"> Tazkira Number: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" placeholder="Tazkira Number" value="{{tazkira_id}}" name="tazkira_id"
                          autofocus>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> First Name: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="fname" value="{{fname}}" placeholder="First Name" required>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Last Name: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="lname" value="{{lname}}" placeholder="Last Name">
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Father Name: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="father_name" value="{{father_name}}" placeholder="Father Name">
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Mobile Number: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="mobile" value="{{mobile}}" placeholder="Mobile Number" required>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Email: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="email" value="{{email}}" placeholder="Email">
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>
                  <tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Adress: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="address" value="{{address}}" placeholder="address">
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> registration Date </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="reg_date" value="{{reg_date}}" placeholder="address" readonly>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Employee Status: </label>
                      </div>
                    </td>
                    <td>
                      <div class="">
                        <input type="radio" id="html" name="status" value="{{status}}">
                        <label for="yes">current</label><br>
                        <input type="radio" id="css" name="status" value="0">
                        <label for="no">formar</label><br>
                      </div>
                    </td>
                  </tr>
                  {{/data}}

                  <td>...</td>
                  <td>...</td>
                  </tr>
                  <tr>
                    <td colspan="2" class="btns">
                      {{!-- <input type="reset" class="btn btn-secondary" value="Reset" id="resetEmpForm"> --}}
                      <input type="submit" value="Delete" class="btn btn-secondary" id="submitEmpForm">
                      <span></span>
                    </td>
                  </tr>

                </table>
              </form>
              {{/if}}
              {{#if empdel}}
              Employee Detainls Not Found please check name spelling and try again
              {{/if}}
            </div>

            {{!-- End of delete form --}}

          </div>
          <div class="viewcontents">
            <form action="/api/showall" class="" >
              <input type="submit" class="btn btn-secondary btn-show" value="Show All Records"> 
              <br>
              <hr>
              <br>
              <table class="table table-hover" id="etable">
                <thead>
                  <tr>
                    <th scope="col">Unique ID </th>
                    <th scope="col">Tazkira No </th>
                    <th scope="col">First Name </th>
                    <th scope="col">Last Name</th>
                    <th scope="col">Father Name</th>
                    <th scope="col">Mobile No</th>
                    <th scope="col">Email</th>
                    <th scope="col">Address</th>
                    <th scope="col">Registratoin Date</th>
                    <th scope="col">Status</th>
                  </tr>
                </thead>
                <tbody>
                  {{#data2}}
                  <tr>
                    <td>{{id}}</td>
                    <td>{{tazkira_id}}</td>
                    <td>{{fname}}</td>
                    <td>{{lname}}</td>
                    <td>{{father_name}}</td>
                    <td>{{mobile}}</td>
                    <td>{{email}}</td>
                    <td>{{address}}</td>
                    <td>{{reg_date}}</td>
                    <td>{{status}}</td>
                  </tr>
                  {{/data2}}
                </tbody>
              </table>
            </form>
          </div> {{!-- End of viewcontents --}}
        </div>
      </div>
    </div>
  </div>
  {{>footer}}
  <script src="../static/js/bootstrap.bundle.min.js"></script>

  <!-- Optional JavaScript; choose one of the two! -->
  <script src="jquery-3.3.1.slim.min.js"></script>
  <!-- Option 1: Bootstrap Bundle with Popper -->
  <script src="../static/js/jquery-3.3.1.slim.min.js"></script>
  <script src="../static/js/bootstrap.min.js"></script>
  <script src="../static/js/popper.min.js"></script>
  <script src="../static/js/solic.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>	
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.6.4/css/buttons.dataTables.min.css">
<script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script> 
<script src="https://cdn.datatables.net/buttons/1.6.4/js/dataTables.buttons.min.js"></script> 
<script src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.flash.min.js"></script> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script> 
<script src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.html5.min.js"></script> 
<script src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.print.min.js"></script> 
<script type="text/javascript">
$(document).ready(function() 
	{ 
	    $('#etable').DataTable( 
	    {             
            "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],
	        dom: 'Blfrtip',
            buttons: [      
                {
                    extend: 'excelHtml5',
                    title: 'Employees',
                    text:'Export to Excel' 
                },
                
                {
                    extend: 'pdfHtml5',
                    title: 'Employees',
                    className: 'btn_pdf',
                    text: 'Export to PDF' 
                },
	       ]	        
	    });
	} );

</script>
</body>

</html>