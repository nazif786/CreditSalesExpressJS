<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  {{!--
  <meta name="viewport" content="width=device-width, initial-scale=1"> --}}

  <!-- Bootstrap CSS -->

  <title>Mobile Cridet Sales Mgt System</title>
  <link rel="stylesheet" href="../static/css/bootstrap.min.css">
  <link rel="stylesheet" href="../static/css/sidebar.css">
  <link rel="stylesheet" href="../static/css/style.css">

  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/js/all.min.js"></script>
  <script src="../static/js/solic.js"></script>


</head>

<body>
  {{!-- {{>navbar}} --}}
  {{!-- {{>sidebar}} --}}
  <div class="contain">
    <div class="container-fluid">
      {{>banner}}
    </div>{{!-- end of container-fluid --}}
    <div class="main">
      <div class="leftybar">
        {{>sidebar}}
      </div>{{!-- end of leftbar --}}
      <div class="righty">
        <div class="maintop">
          {{>maintop}}
        </div> {{!-- end of maintop --}}
        <h1>Suppliers</h1>

        {{!-- main contents fot this page starts here --}}


        <div class="contents">
          <div class="mainContents">
            <div class="actionmenu">
              <div class="newemp">
                To add new Compnay Click Button
                <button onclick="window.location.href='../api/newCompany';" class="btn">
                  Add New Company
                </button>
              </div>

              <div class="searchemp">
                Enter Company Name to Search
                <form action="/api/searchComp" method="post">
                  <input type="search" placeholder="search" name="comp_name">
                  <input type="submit" value="Search" class="btn">
                </form>
              </div>
              <div class="delemp">
                Enter Company Name to Delete
                <form action="/api/delComp" method="post">
                  <input type="search" placeholder="Enter Company name to Delete" name="comp_name">
                  <input type="submit" value="Show Data" class="btn">
                </form>
              </div>
            </div>{{!-- end action menu --}}

            {{!-- search form --}}
            <div class="searchform">
              {{#if msg}}
              <text style="color:darkblue"> Company Data Added </text>
              {{/if}}

              {{#if updatemsg}}
              <text style="color:blue">Company Data Updated</text>
              {{/if}}

              {{#each alerts}}
                	<div class="alert alert-warning alert-dismissible fade show" role="alert">
                    	{{msg}}
                    	<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  	</div>  compnay data not updated 
             	{{/each}}
              {{#if compSaerchFound}}
              <h3>Compnay Data </h3>
              <form action="/api/updateCompany" method="post" class="" id="addCompany">
                {{#data}}
                <table style="width:100%; ">
                  <tr>
                    <th style="width:30%;"> </th>
                    <th> </th>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for="id"> Company ID: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" placeholder="id" value="{{comp_id}}" name="comp_id" readonly>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Company Name: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="comp_name" value="{{comp_name}}" placeholder="First Name" required>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Company Mobile No: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="comp_mobile" value="{{comp_mobile}}" placeholder="Mobile Number"
                          required>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for="">Company Email: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="comp_email" value="{{comp_email}}" placeholder="Email">
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Adress: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="comp_address" value="{{comp_address}}" placeholder="address">
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>
                  {{/data}}

                  <tr>
                    <td>...</td>
                    <td>...</td>
                  </tr>
                  <tr>
                    <td colspan="2" class="btns">
                      {{!-- <input type="reset" class="btn btn-secondary" value="Reset" id="resetEmpForm"> --}}
                      <input type="submit" value="Update" class="btn btn-secondary" id="submitEmpForm">
                      <span></span>
                    </td>
                  </tr>

                </table>
              </form>
              {{/if}}
              {{#if compSaerch}}
              Company data Not Found please Check spelling and try again
              {{/if}}

              {{!-- delete form --}}


              {{#if delrecord}}
              <text style="color:rgb(153, 8, 8)"> Company Record Deleted</text>
              {{/if}}
              {{#if compFound}}
              <h3> Company Details </h3>
              <form action="/api/deleteCompany" method="post" class="" id="addEmployee">
                {{#data}}
                <table style="width:100%; ">
                  <tr>
                    <th style="width:30%;"> </th>
                    <th> </th>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for="id"> Company ID: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" placeholder="id" value="{{comp_id}}" name="comp_id" readonly>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Company Name: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="comp_name" value="{{comp_name}}" placeholder="First Name" required>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Company Mobile No: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="comp_mobile" value="{{comp_mobile}}" placeholder="Mobile Number"
                          required>
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for="">Company Email: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="comp_email" value="{{comp_email}}" placeholder="Email">
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <div class="">
                        <label for=""> Adress: </label>
                      </div>
                    </td>
                    <td>
                      <div class="txt_field">
                        <input type="text" name="comp_address" value="{{comp_address}}" placeholder="address">
                        <label for=""> </label>
                      </div>
                    </td>
                  </tr>
                  {{/data}}

                  <tr>
                    <td>...</td>
                    <td>...</td>
                  </tr>
                  <tr>
                    <td colspan="2" class="btns">
                      {{!-- <input type="reset" class="btn btn-secondary" value="Reset" id="resetEmpForm"> --}}
                      <input type="submit" value="Delete" class="btn btn-secondary" id="submitEmpForm">
                      <span></span>
                    </td>
                  </tr>

                </table>
              </form>
              {{/if}}

              {{#if compdel}}
              Company Details Not Found please check spelling and try again
              {{/if}}

            </div>


            {{!-- End of delete form --}} 

          </div>{{!-- End mianContents --}}

          <div class="viewcontents">
            <form action="/api/showallComp" class="">
              <input type="submit" class="btn btn-secondary btn-show" value="Show All Records">
              <hr>
              <br>
              <table class="table table-hover" id="cotable">
                <thead>
                  <tr>
                    <th scope="col">Compnay ID </th>
                    <th scope="col">Company Name </th>
                    <th scope="col">Compnay Mobile No</th>
                    <th scope="col">Compnay Email</th>
                    <th scope="col">Compnay Address</th>
                  </tr>
                </thead>
                <tbody>
                  {{#data2}}
                  <tr>
                    <td>{{comp_id}}</td>
                    <td>{{comp_name}}</td>
                    <td>{{comp_mobile}}</td>
                    <td>{{comp_email}}</td>
                    <td>{{comp_address}}</td>
                  </tr>
                  {{/data2}}
                </tbody>
              </table>
            </form>
          </div> {{!-- End of viewcontents --}}


        </div>{{!-- end of contents --}}
        {{!-- mian contants for this page ends here --}}

      </div>{{!-- end of righty --}}
    </div> {{!-- end of main --}}

  </div> {{!-- end of contain --}}
  {{>footer}}





  <script src="../static/js/bootstrap.bundle.min.js"></script>

  <!-- Optional JavaScript; choose one of the two! -->
  <script src="jquery-3.3.1.slim.min.js"></script>
  <!-- Option 1: Bootstrap Bundle with Popper -->
  <script src="../static/js/jquery-3.3.1.slim.min.js"></script>
  <script src="../static/js/bootstrap.min.js"></script>
  <script src="../static/js/popper.min.js"></script>
  <script src="../static/js/solic.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>	
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.6.4/css/buttons.dataTables.min.css">


<script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script> 

<script src="https://cdn.datatables.net/buttons/1.6.4/js/dataTables.buttons.min.js"></script> 
<script src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.flash.min.js"></script> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script> 
<script src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.html5.min.js"></script> 
<script src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.print.min.js"></script> 

<script type="text/javascript">
	$(document).ready(function() 
	{ 
	    $('#cotable').DataTable( 
	    {             
            "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],
	        dom: 'Blfrtip',
            buttons: [      
                {
                    extend: 'excelHtml5',
                    title: 'Suppliers',
                    text:'Export to Excel' 
                },
                {
                    extend: 'pdfHtml5',
                    title: 'Suppliers',
                    className: 'btn_pdf',
                    text: 'Export to PDF' 
                },
	       ]	        
	    });   
	} );
	</script>
</body>

</html>